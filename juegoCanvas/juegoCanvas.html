<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #canvas {
            border: solid 1px black;
        }
    </style>
</head>
<body>
<canvas id="canvas" width="500" height="500"></canvas>
<script>

    var NUM_FILES = 8;
    var NUM_COLUMNES = 8;

    /* . se refiere a una clase y contiene [] que es la etiqueta */
    //var canvas = document.querySelector(".canvas[src]");

    /* getElementById y querySelector hacen lo mismo */
    //var canvas = document.getElementById("canvas");
    var canvas = document.querySelector("#canvas");
    var posicioCanvas = canvas.getBoundingClientRect();
    var ctx = canvas.getContext("2d");


    var widthCasella = canvas.width / NUM_COLUMNES;
    var heightCasella = canvas.height / NUM_FILES;

    var color1 = "green";
    var color2 = "red";
    var color1tmp = color1;
    var color2tmp = color2;

    for (var i = 0; i < 8; i++) {
        for (var j = 0; j < 8; j++) {
            if (j % 2 === 0) {
                color1tmp = color1;
                color2tmp = color2;
            } else {
                color1tmp = color2;
                color2tmp = color1;
            }

            if (i % 2 === 0) {
                ctx.fillStyle = color1tmp;
            } else {
                ctx.fillStyle = color2tmp;
            }

            ctx.fillRect(i * widthCasella, j * heightCasella, widthCasella, heightCasella);
        }
    }

    ctx.fillStyle = "blue";
    ctx.arc(widthCasella / 2, heightCasella / 2, widthCasella / 2, 0, 2 * Math.PI);
    ctx.fill();

    function getCasella(x, y) {
        var fila = Math.floor(y / heightCasella) + 1;
        var columna = Math.floor(x / widthCasella) + 1;

        var posicio = {
            fila: fila,
            columna: columna
        }

        return posicio;
    }

    canvas.addEventListener("click", function (evento) {
        console.log("Click dins canvas");
        console.log("PosiciÃ³", posicioCanvas);

        const x = evento.clientX - posicioCanvas.left;
        const y = evento.clientY - posicioCanvas.top;
        console.log("X", x, "Y", y);
        console.log(getCasella(x, y));
    })

</script>
</body>
</html>